<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .bg { fill: #2f2f2f; }
      .stroke { stroke: #AAA; stroke-width: 2; fill: none; }
      .box { fill: #2f2f2f; stroke: #AAA; stroke-width: 2; }
      .text { fill: white; font-family: monospace; font-size: 12px; text-anchor: middle; }
      .small-text { fill: white; font-family: monospace; font-size: 10px; text-anchor: middle; }
      .title { fill: white; font-family: monospace; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .arrow { stroke: #AAA; stroke-width: 2; fill: #AAA; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" class="arrow" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" class="bg"/>
  
  <!-- Title -->
  <text x="400" y="30" class="title">RPC Params Module Flow</text>
  
  <!-- External Dependencies Box -->
  <rect x="50" y="60" width="180" height="120" class="box"/>
  <text x="140" y="85" class="text">External Dependencies</text>
  <text x="140" y="105" class="small-text">modql::filter::ListOptions</text>
  <text x="140" y="120" class="small-text">rpc_router::{IntoParams,</text>
  <text x="140" y="135" class="small-text">IntoDefaultRpcParams}</text>
  <text x="140" y="150" class="small-text">serde::{Deserialize,</text>
  <text x="140" y="165" class="small-text">DeserializeOwned}</text>
  
  <!-- ParamsForCreate Box -->
  <rect x="300" y="80" width="160" height="100" class="box"/>
  <text x="380" y="105" class="text">ParamsForCreate&lt;D&gt;</text>
  <text x="380" y="125" class="small-text">Fields:</text>
  <text x="380" y="140" class="small-text">• data: D</text>
  <text x="380" y="160" class="small-text">Impl: IntoParams</text>
  
  <!-- ParamsForUpdate Box -->
  <rect x="300" y="200" width="160" height="110" class="box"/>
  <text x="380" y="225" class="text">ParamsForUpdate&lt;D&gt;</text>
  <text x="380" y="245" class="small-text">Fields:</text>
  <text x="380" y="260" class="small-text">• id: i64</text>
  <text x="380" y="275" class="small-text">• data: D</text>
  <text x="380" y="295" class="small-text">Impl: IntoParams</text>
  
  <!-- ParamsIded Box -->
  <rect x="300" y="330" width="160" height="90" class="box"/>
  <text x="380" y="355" class="text">ParamsIded</text>
  <text x="380" y="375" class="small-text">Fields:</text>
  <text x="380" y="390" class="small-text">• id: i64</text>
  <text x="380" y="405" class="small-text">Impl: IntoParams</text>
  
  <!-- ParamsList Box -->
  <rect x="300" y="440" width="160" height="120" class="box"/>
  <text x="380" y="465" class="text">ParamsList&lt;F&gt;</text>
  <text x="380" y="485" class="small-text">Fields:</text>
  <text x="380" y="500" class="small-text">• filters: Option&lt;Vec&lt;F&gt;&gt;</text>
  <text x="380" y="515" class="small-text">• list_options:</text>
  <text x="380" y="530" class="small-text">  Option&lt;ListOptions&gt;</text>
  <text x="380" y="550" class="small-text">Impl: IntoDefaultRpcParams</text>
  
  <!-- RPC Operations Box -->
  <rect x="520" y="200" width="200" height="160" class="box"/>
  <text x="620" y="225" class="text">RPC Operations</text>
  <text x="620" y="250" class="small-text">Create Operations</text>
  <text x="620" y="270" class="small-text">Update Operations</text>
  <text x="620" y="290" class="small-text">Get By ID Operations</text>
  <text x="620" y="310" class="small-text">List Operations</text>
  <text x="620" y="340" class="small-text">Typed &amp; Generic</text>
  <text x="620" y="355" class="small-text">Parameter Validation</text>
  
  <!-- Arrows from Dependencies -->
  <line x1="230" y1="120" x2="300" y2="130" class="stroke" marker-end="url(#arrowhead)"/>
  <line x1="230" y1="140" x2="300" y2="255" class="stroke" marker-end="url(#arrowhead)"/>
  <line x1="230" y1="140" x2="300" y2="375" class="stroke" marker-end="url(#arrowhead)"/>
  <line x1="230" y1="160" x2="300" y2="500" class="stroke" marker-end="url(#arrowhead)"/>
  
  <!-- Arrows to RPC Operations -->
  <line x1="460" y1="130" x2="520" y2="240" class="stroke" marker-end="url(#arrowhead)"/>
  <line x1="460" y1="255" x2="520" y2="260" class="stroke" marker-end="url(#arrowhead)"/>
  <line x1="460" y1="375" x2="520" y2="290" class="stroke" marker-end="url(#arrowhead)"/>
  <line x1="460" y1="500" x2="520" y2="320" class="stroke" marker-end="url(#arrowhead)"/>
  
  <!-- Generic Type Flow -->
  <rect x="50" y="450" width="180" height="80" class="box"/>
  <text x="140" y="475" class="text">Generic Types</text>
  <text x="140" y="495" class="small-text">D: DeserializeOwned + Send</text>
  <text x="140" y="510" class="small-text">F: DeserializeOwned + Send</text>
  
  <!-- Arrow from Generic Types -->
  <line x1="230" y1="490" x2="300" y2="490" class="stroke" marker-end="url(#arrowhead)"/>
  
  <!-- Trait Implementation Flow -->
  <text x="400" y="580" class="small-text">All params implement appropriate RPC Router traits for type safety</text>
</svg>